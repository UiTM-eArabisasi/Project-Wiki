var wordlist = []; function init_document() { var c = DoTransliterate(element.value), a = document.getElementById("prev_label"); a.innerHTML = c } function DoPreview() { var c = $("#inp_txt").val(), a = DoTransliterate(c); $("#prev_label").text(a) } function DoAppendTransliteration() { var b = $("#inp_txt").val(); return "clear" == b.toLowerCase() ? void $("#inp_txt").val("") : void $("#inp_txt").val("") } function escapeRegExp(a) { return a.replace(/[.*+\-?^${}()|[\]\\]/g, "\\$&") } function replaceAll(a, b, c) { return a.replace(new RegExp(b, "g"), c) } function findInWordlist(a) { var b = a.replace(/[^A-Z0-9]+/gi, " "), c = []; b.split(" ").map(a => { c.push({ Word: a, jawi: "" }) }), wordlist.map(a => { c.map((b, d) => { a.Word == b.Word && (c[d].jawi = a.Arab) }) }); var d = a; c.map(a => { if ("" !== a.jawi) { var b = new RegExp("(^|\\s)" + a.Word.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") + "(?!\\S)", "gi"); d = d.replace(b, "$1" + a.jawi) } else { var c = DoTransliterate(a.Word), b = new RegExp("(^|\\s)" + a.Word.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") + "(?!\\S)", "gi"); d = d.replace(b, "$1" + c) } }), $("#outputWord").text(d) } $(document).ready(function () { fetch("https://earabisasi.syafiqhadzir.dev/api/Wordlist").then(a => a.json()).then(function (a) { a.map(a => { wordlist.push({ ...a, Word: a.Word.toLowerCase() }) }) }).catch(function () { }), $("#inp_txt").keydown(function (b) { "13" == b.keyCode && DoAppendTransliteration() }), $("#inp_txt").keyup(function () { DoPreview(); var a = $(this).val().toLowerCase(); findInWordlist(a) }), DoPreview() });